## PoachNet: Predict Poaching with an ontology-based knowledge graph

[FOO-KG](https://naeima.github.io/fooKG/) is a wildlife knowledge graph dataset used for poaching prediction. As shown in the figure below, it was constructed by populating the Forest Observatory Ontology [FOO](https://w3id.org/def/foo#) with RDF wildlife datasets generated by sensors [website](https://ontology.forest-observatory.org). This was achieved by mapping each data table to the sensor class, each column to a property or predicate, each row to an instance or individual of the class sensor, and each cell to a literal using [YARRML](https://rml.io/yarrrml/), a human-readable text-based representation for declarative Linked Data generation rules. The output RDF graphs are then fed into a graph database and merged with FOO to form an ontology-based knowledge graph.

![image](https://github.com/Naeima/PoachNet/blob/ed7689e9128f9bf37cf51e5cdf7bc5c70d86e07e/KGBuild.png)


## PoachNet 

This Jupyter notebook is designed for processing and analysing RDF (Resource Description Framework) data. The notebook focuses on loading RDF data, querying it using SPARQL, extracting features and labels, and preparing the data for further analysis or predictive modelling. This notebook is particularly useful for those working with geospatial RDF data and looking to predict elephants' geolocation. 

# PoachNet code: [Click here](https://github.com/Naeima/PoachNet/blob/e21c46c0698c39fa626096ab650d506716c1682d/PoachNet.ipynb)


![image](https://github.com/Naeima/PoachNet/blob/6416298db13ed86751840e0a68ded5f63cf3179c/PoachNet.png)

# Query elephant Seri

![image](https://github.com/Naeima/PoachNet/blob/f59fba205a473eaeb19f24192fc45e38c5db0dd3/SelectSeri.png)


# Semantic Web Rule Language (SWRL) expressed in SPARQL INSERT Query 
![image](https://github.com/Naeima/PoachNet/blob/3330ff6bf2d8a09d4d6cc85aa0235c30f6cc2f36/SWRL.png)

# Query poaching 

![image](https://github.com/Naeima/PoachNet/blob/7b7ceca4a5b0ee82ea61bceb73722cb108e78452/SelectPoaching.png)

# Evaluation code: [Click here](https://github.com/Naeima/PoachNet/blob/bb4af1077d988d686796be60e0680154e02c244c/Linear_Regression%2C_Polynomial_and_VAR.ipynb)


# SWRL Rule: Detect Poaching Observations Near Oil Palm Plantations

```turtle
@prefix foo: <https://w3id.org/def/foo#> .
@prefix swrl: <http://www.w3.org/2003/11/swrl#> .
@prefix swrlb: <http://www.w3.org/2003/11/swrlb#> .
@prefix pos: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

### Define the SWRL Rule ###
foo:NearPlantationRule a swrl:Imp ;
    swrl:body (
        [ a swrl:ClassAtom ;
          swrl:classPredicate foo:gPSObservation ;
          swrl:argument1 ?s
        ]
        [ a swrl:DatavaluedPropertyAtom ;
          swrl:propertyPredicate pos:latitude ;
          swrl:argument1 ?s ;
          swrl:argument2 ?lat
        ]
        [ a swrl:DatavaluedPropertyAtom ;
          swrl:propertyPredicate pos:longitude ;
          swrl:argument1 ?s ;
          swrl:argument2 ?long
        ]
        [ a swrl:ClassAtom ;
          swrl:classPredicate foo:OilPalmPlantation ;
          swrl:argument1 ?plantation
        ]
        [ a swrl:DatavaluedPropertyAtom ;
          swrl:propertyPredicate pos:latitude ;
          swrl:argument1 ?plantation ;
          swrl:argument2 ?plantationLat
        ]
        [ a swrl:DatavaluedPropertyAtom ;
          swrl:propertyPredicate pos:longitude ;
          swrl:argument1 ?plantation ;
          swrl:argument2 ?plantationLong
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:subtract ;
          swrl:arguments (?latDiff ?lat ?plantationLat)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:subtract ;
          swrl:arguments (?longDiff ?long ?plantationLong)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:multiply ;
          swrl:arguments (?latRadDiff ?latDiff 3.14159)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:divide ;
          swrl:arguments (?latRadDiff ?latRadDiff 180)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:multiply ;
          swrl:arguments (?longRadDiff ?longDiff 3.14159)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:divide ;
          swrl:arguments (?longRadDiff ?longRadDiff 180)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:sin ;
          swrl:arguments (?sinLatDiffHalf (/ ?latRadDiff 2))
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:sin ;
          swrl:arguments (?sinLongDiffHalf (/ ?longRadDiff 2))
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:pow ;
          swrl:arguments (?sinLatDiffHalfSq ?sinLatDiffHalf 2)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:pow ;
          swrl:arguments (?sinLongDiffHalfSq ?sinLongDiffHalf 2)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:cos ;
          swrl:arguments (?cosLat1 (/ ?lat 180 * 3.14159))
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:cos ;
          swrl:arguments (?cosLat2 (/ ?plantationLat 180 * 3.14159))
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:multiply ;
          swrl:arguments (?cosMult ?cosLat1 ?cosLat2)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:add ;
          swrl:arguments (?haversine ?sinLatDiffHalfSq ?cosMult)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:sqrt ;
          swrl:arguments (?sqrtHaversine ?haversine)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:asin ;
          swrl:arguments (?asinHaversine ?sqrtHaversine)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:multiply ;
          swrl:arguments (?distance 6371 * 2 ?asinHaversine)
        ]
        [ a swrl:BuiltInAtom ;
          swrl:builtin swrlb:lessThanOrEqual ;
          swrl:arguments (?distance 5)
        ]
    ) ;
    swrl:head (
        [ a swrl:DatavaluedPropertyAtom ;
          swrl:propertyPredicate foo:poaching ;
          swrl:argument1 ?s ;
          swrl:argument2 true
        ]
    ) .
